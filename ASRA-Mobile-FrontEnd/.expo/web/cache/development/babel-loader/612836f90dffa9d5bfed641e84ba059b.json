{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _extends2 = require(\"@babel/runtime/helpers/extends\");\n\nvar _excluded = [\"tnode\", \"TDefaultRenderer\", \"listType\", \"style\", \"getFallbackListStyleTypeFromNestLevel\", \"markerBoxStyle\", \"markerTextStyle\", \"enableExperimentalRtl\", \"enableRemoveTopMarginIfNested\", \"enableRemoveBottomMarginIfNested\", \"enableDynamicMarkerBoxWidth\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMarkerBoxStyle = getMarkerBoxStyle;\nexports.default = ListElement;\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNativeLi = require(\"@jsamr/react-native-li\");\n\nvar _TChildrenRendererContext = require(\"../context/TChildrenRendererContext\");\n\nvar _constants = require(\"../constants\");\n\nvar _pick = _interopRequireDefault(require(\"ramda/src/pick\"));\n\nvar _ListStyleSpecsProvider = require(\"../context/ListStyleSpecsProvider\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction getStartIndex(tnode) {\n  var parsedIndex = tnode.attributes.start ? Number(tnode.attributes.start) : Number.NaN;\n  return Number.isNaN(parsedIndex) ? 1 : parsedIndex;\n}\n\nvar pickMarkerTextStyles = (0, _pick.default)(['fontStyle', 'fontSize', 'fontWeight', 'fontFamily', 'fontVariant', 'color', 'lineHeight']);\n\nfunction extractMarkerTextStyle(tnode) {\n  return _extends2({\n    lineHeight: 14 * 1.3,\n    fontSize: 14,\n    color: _constants.DEFAULT_TEXT_COLOR\n  }, pickMarkerTextStyles(tnode.styles.nativeTextFlow));\n}\n\nfunction getMarkerBoxStyle(markerWidth, paddingValue) {\n  var markerBoxWidth = typeof markerWidth === 'number' ? typeof paddingValue === 'number' ? Math.max(paddingValue, markerWidth) : markerWidth : paddingValue;\n  return {\n    width: markerBoxWidth\n  };\n}\n\nvar listStyleTypeFallbackRecord = {\n  ol: 'decimal',\n  ul: 'disc'\n};\n\nfunction ListElement(_ref) {\n  var tnode = _ref.tnode,\n      TDefaultRenderer = _ref.TDefaultRenderer,\n      listType = _ref.listType,\n      style = _ref.style,\n      getFallbackListStyleTypeFromNestLevel = _ref.getFallbackListStyleTypeFromNestLevel,\n      markerBoxStyle = _ref.markerBoxStyle,\n      providedMarkerTextStyle = _ref.markerTextStyle,\n      _ref$enableExperiment = _ref.enableExperimentalRtl,\n      enableExperimentalRtl = _ref$enableExperiment === void 0 ? false : _ref$enableExperiment,\n      _ref$enableRemoveTopM = _ref.enableRemoveTopMarginIfNested,\n      enableRemoveTopMarginIfNested = _ref$enableRemoveTopM === void 0 ? true : _ref$enableRemoveTopM,\n      _ref$enableRemoveBott = _ref.enableRemoveBottomMarginIfNested,\n      enableRemoveBottomMarginIfNested = _ref$enableRemoveBott === void 0 ? true : _ref$enableRemoveBott,\n      _ref$enableDynamicMar = _ref.enableDynamicMarkerBoxWidth,\n      enableDynamicMarkerBoxWidth = _ref$enableDynamicMar === void 0 ? false : _ref$enableDynamicMar,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _tnode$parent, _tnode$parent2, _tnode$parent3, _style$fixedPaddingRu;\n\n  var listStyleSpecs = (0, _ListStyleSpecsProvider.useListStyleSpecs)();\n  var markers = tnode.markers;\n  var nestLevel = listType === 'ol' ? markers.olNestLevel : markers.ulNestLevel;\n  var TChildrenRenderer = (0, _TChildrenRendererContext.useTChildrenRenderer)();\n  var rtl = enableExperimentalRtl && (style.direction === 'rtl' || markers.direction === 'rtl');\n  var removeTopMarginStyle = enableRemoveTopMarginIfNested && ((_tnode$parent = tnode.parent) === null || _tnode$parent === void 0 ? void 0 : _tnode$parent.tagName) === 'li' && tnode.nodeIndex === 0 ? styles.zeroMarginTop : null;\n  var removeBottomMarginStyle = enableRemoveBottomMarginIfNested && ((_tnode$parent2 = tnode.parent) === null || _tnode$parent2 === void 0 ? void 0 : _tnode$parent2.tagName) === 'li' && tnode.nodeIndex === ((_tnode$parent3 = tnode.parent) === null || _tnode$parent3 === void 0 ? void 0 : _tnode$parent3.children.length) - 1 ? styles.zeroMarginBottom : null;\n  var ownListType = tnode.styles.webTextFlow.listStyleType;\n  var selectedListType = getFallbackListStyleTypeFromNestLevel(nestLevel) || ownListType || listStyleTypeFallbackRecord[listType];\n  var listStyleType = ownListType || selectedListType;\n\n  if (typeof __DEV__ === 'boolean' && __DEV__ && !(listStyleType in listStyleSpecs)) {\n    if (listStyleType.match(/^(\"|')/)) {\n      console.warn(\"This library doesn't support strings for list-style-type CSS properties.\");\n    } else {\n      console.warn(\"list-style-type \\\"\" + listStyleType + \"\\\" is not handled by react-native-render-html. \" + 'You can easily provide support for this style via \"customListStyleSpecs\" prop.');\n    }\n  }\n\n  var spec = listStyleType in listStyleSpecs ? listStyleSpecs[listStyleType] : listStyleSpecs[selectedListType];\n  var counterRenderer = spec.counterStyleRenderer;\n  var startIndex = getStartIndex(tnode);\n  var markerTextStyle = typeof providedMarkerTextStyle === 'object' && providedMarkerTextStyle ? _objectSpread(_objectSpread({}, extractMarkerTextStyle(tnode)), providedMarkerTextStyle) : extractMarkerTextStyle(tnode);\n  var itemProps = (0, _reactNativeLi.useMarkedList)({\n    counterRenderer: counterRenderer,\n    startIndex: startIndex,\n    markerTextStyle: markerTextStyle,\n    markerBoxStyle: markerBoxStyle,\n    rtlLineReversed: rtl,\n    rtlMarkerReversed: rtl,\n    length: tnode.children.length,\n    dynamicMarkerBoxWidth: enableDynamicMarkerBoxWidth,\n    renderMarker: spec.renderMarker\n  });\n  var markerWidth = itemProps.markerTextWidth;\n  var fixedPaddingRule = rtl ? 'paddingRight' : 'paddingLeft';\n  var paddingValue = (_style$fixedPaddingRu = style[fixedPaddingRule]) !== null && _style$fixedPaddingRu !== void 0 ? _style$fixedPaddingRu : style.paddingLeft;\n  var markerBoxWidthStyle = getMarkerBoxStyle(markerWidth, paddingValue);\n\n  var renderChild = function renderChild(_ref2) {\n    var childElement = _ref2.childElement,\n        key = _ref2.key,\n        index = _ref2.index;\n    return _react.default.createElement(_reactNativeLi.MarkedListItem, _extends({\n      key: key,\n      index: index\n    }, itemProps, {\n      markerBoxStyle: [itemProps.markerBoxStyle, markerBoxWidthStyle],\n      markerTextStyle: itemProps.markerTextStyle,\n      enableMarkerClipping: true,\n      style: itemProps.style\n    }), _react.default.createElement(_reactNative.View, {\n      style: styles.shrink\n    }, childElement));\n  };\n\n  var dynamicPaddingStyle = _defineProperty({\n    position: 'relative'\n  }, fixedPaddingRule, 0);\n\n  return _react.default.createElement(TDefaultRenderer, _extends({\n    tnode: tnode,\n    style: [style, removeTopMarginStyle, removeBottomMarginStyle, dynamicPaddingStyle]\n  }, props), _react.default.createElement(TChildrenRenderer, {\n    tchildren: tnode.children,\n    renderChild: renderChild\n  }));\n}\n\nvar styles = _reactNative.StyleSheet.create({\n  zeroMarginTop: {\n    marginTop: 0\n  },\n  zeroMarginBottom: {\n    marginBottom: 0\n  },\n  shrink: {\n    flexShrink: 1\n  }\n});","map":{"version":3,"sources":["ListElement.tsx"],"names":["parsedIndex","tnode","Number","pickMarkerTextStyles","lineHeight","fontSize","color","DEFAULT_TEXT_COLOR","markerBoxWidth","Math","width","listStyleTypeFallbackRecord","ol","ul","markerTextStyle","enableExperimentalRtl","enableRemoveTopMarginIfNested","enableRemoveBottomMarginIfNested","enableDynamicMarkerBoxWidth","props","listStyleSpecs","markers","nestLevel","listType","TChildrenRenderer","rtl","style","removeTopMarginStyle","styles","removeBottomMarginStyle","ownListType","selectedListType","getFallbackListStyleTypeFromNestLevel","listStyleType","console","spec","counterRenderer","startIndex","getStartIndex","extractMarkerTextStyle","providedMarkerTextStyle","itemProps","markerBoxStyle","rtlLineReversed","rtlMarkerReversed","length","dynamicMarkerBoxWidth","renderMarker","markerWidth","fixedPaddingRule","paddingValue","markerBoxWidthStyle","getMarkerBoxStyle","renderChild","index","shrink","dynamicPaddingStyle","position","zeroMarginTop","marginTop","zeroMarginBottom","marginBottom","flexShrink"],"mappings":"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","sourcesContent":["import { StyleSheet, View } from 'react-native';\nimport React from 'react';\nimport { TBlock, TNode } from '@native-html/transient-render-engine';\nimport { MarkedListItem, useMarkedList } from '@jsamr/react-native-li';\nimport type {\n  DefaultSupportedListStyleType,\n  InternalRendererProps,\n  ListElementConfig,\n  TChildProps\n} from '../shared-types';\nimport { useTChildrenRenderer } from '../context/TChildrenRendererContext';\nimport { DEFAULT_TEXT_COLOR } from '../constants';\nimport pick from 'ramda/src/pick';\nimport { useListStyleSpecs } from '../context/ListStyleSpecsProvider';\n\nexport interface ListElementProps<T extends 'ol' | 'ul'>\n  extends InternalRendererProps<TBlock>,\n    ListElementConfig {\n  listType: T;\n}\n\nfunction getStartIndex(tnode: TNode) {\n  const parsedIndex = tnode.attributes.start\n    ? Number(tnode.attributes.start)\n    : Number.NaN;\n  return Number.isNaN(parsedIndex) ? 1 : parsedIndex;\n}\n\nconst pickMarkerTextStyles = pick([\n  'fontStyle',\n  'fontSize',\n  'fontWeight',\n  'fontFamily',\n  'fontVariant',\n  'color',\n  'lineHeight'\n]);\n\nfunction extractMarkerTextStyle(tnode: TNode) {\n  return Object.assign(\n    {\n      lineHeight: 14 * 1.3,\n      fontSize: 14,\n      color: DEFAULT_TEXT_COLOR\n    },\n    pickMarkerTextStyles(tnode.styles.nativeTextFlow)\n  );\n}\n\nexport function getMarkerBoxStyle(\n  markerWidth: number | false,\n  paddingValue: string | number | undefined\n) {\n  const markerBoxWidth =\n    typeof markerWidth === 'number'\n      ? typeof paddingValue === 'number'\n        ? Math.max(paddingValue, markerWidth)\n        : markerWidth\n      : paddingValue;\n  return { width: markerBoxWidth };\n}\n\nconst listStyleTypeFallbackRecord: Record<\n  'ol' | 'ul',\n  DefaultSupportedListStyleType\n> = {\n  ol: 'decimal',\n  ul: 'disc'\n};\n\nexport default function ListElement({\n  tnode,\n  TDefaultRenderer,\n  listType,\n  style,\n  getFallbackListStyleTypeFromNestLevel,\n  markerBoxStyle,\n  markerTextStyle: providedMarkerTextStyle,\n  enableExperimentalRtl = false,\n  enableRemoveTopMarginIfNested = true,\n  enableRemoveBottomMarginIfNested = true,\n  enableDynamicMarkerBoxWidth = false,\n  ...props\n}: ListElementProps<'ol' | 'ul'>) {\n  const listStyleSpecs = useListStyleSpecs();\n  const markers = tnode.markers;\n  const nestLevel =\n    listType === 'ol' ? markers.olNestLevel : markers.ulNestLevel;\n  const TChildrenRenderer = useTChildrenRenderer();\n  const rtl =\n    enableExperimentalRtl &&\n    (style.direction === 'rtl' || markers.direction === 'rtl');\n  const removeTopMarginStyle =\n    enableRemoveTopMarginIfNested &&\n    tnode.parent?.tagName === 'li' &&\n    tnode.nodeIndex === 0\n      ? styles.zeroMarginTop\n      : null;\n  const removeBottomMarginStyle =\n    enableRemoveBottomMarginIfNested &&\n    tnode.parent?.tagName === 'li' &&\n    tnode.nodeIndex === tnode.parent?.children.length - 1\n      ? styles.zeroMarginBottom\n      : null;\n  const ownListType = tnode.styles.webTextFlow.listStyleType as\n    | DefaultSupportedListStyleType\n    | undefined;\n  const selectedListType =\n    getFallbackListStyleTypeFromNestLevel!(nestLevel) ||\n    ownListType ||\n    listStyleTypeFallbackRecord[listType];\n  const listStyleType = ownListType || selectedListType;\n  if (\n    typeof __DEV__ === 'boolean' &&\n    __DEV__ &&\n    !(listStyleType in listStyleSpecs)\n  ) {\n    if (listStyleType.match(/^(\"|')/)) {\n      console.warn(\n        \"This library doesn't support strings for list-style-type CSS properties.\"\n      );\n    } else {\n      console.warn(\n        `list-style-type \"${listStyleType}\" is not handled by react-native-render-html. ` +\n          'You can easily provide support for this style via \"customListStyleSpecs\" prop.'\n      );\n    }\n  }\n  const spec =\n    listStyleType in listStyleSpecs\n      ? listStyleSpecs[listStyleType]\n      : listStyleSpecs[selectedListType];\n  const counterRenderer = spec.counterStyleRenderer;\n  const startIndex = getStartIndex(tnode);\n  const markerTextStyle =\n    typeof providedMarkerTextStyle === 'object' && providedMarkerTextStyle\n      ? { ...extractMarkerTextStyle(tnode), ...providedMarkerTextStyle }\n      : extractMarkerTextStyle(tnode);\n  const itemProps = useMarkedList({\n    counterRenderer,\n    startIndex,\n    markerTextStyle,\n    markerBoxStyle,\n    rtlLineReversed: rtl,\n    rtlMarkerReversed: rtl,\n    length: tnode.children.length,\n    dynamicMarkerBoxWidth: enableDynamicMarkerBoxWidth,\n    renderMarker: spec.renderMarker\n  });\n  const markerWidth = itemProps.markerTextWidth;\n  const fixedPaddingRule = rtl\n    ? ('paddingRight' as const)\n    : ('paddingLeft' as const);\n  // Fallback to padding-left value on RTL mode\n  const paddingValue = style[fixedPaddingRule] ?? style.paddingLeft;\n  const markerBoxWidthStyle = getMarkerBoxStyle(markerWidth, paddingValue);\n  const renderChild = ({ childElement, key, index }: TChildProps) => (\n    <MarkedListItem\n      key={key}\n      index={index}\n      {...itemProps}\n      markerBoxStyle={[itemProps.markerBoxStyle, markerBoxWidthStyle]}\n      markerTextStyle={itemProps.markerTextStyle}\n      enableMarkerClipping\n      style={itemProps.style}>\n      <View style={styles.shrink}>{childElement}</View>\n    </MarkedListItem>\n  );\n\n  const dynamicPaddingStyle = {\n    position: 'relative' as const,\n    [fixedPaddingRule]: 0\n  };\n  return (\n    <TDefaultRenderer\n      tnode={tnode}\n      style={[\n        style,\n        removeTopMarginStyle,\n        removeBottomMarginStyle,\n        dynamicPaddingStyle\n      ]}\n      {...props}>\n      <TChildrenRenderer tchildren={tnode.children} renderChild={renderChild} />\n    </TDefaultRenderer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  zeroMarginTop: { marginTop: 0 },\n  zeroMarginBottom: { marginBottom: 0 },\n  shrink: { flexShrink: 1 }\n});\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useRendererRegistry = useRendererRegistry;\nexports.useRendererConfig = useRendererConfig;\nexports.useInternalTextRenderer = useInternalTextRenderer;\nexports.default = RenderRegistryProvider;\nexports.RenderRegistryContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useProfiler = _interopRequireDefault(require(\"../hooks/useProfiler\"));\n\nvar _RenderRegistry = _interopRequireDefault(require(\"../render/RenderRegistry\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar RenderRegistryContext = _react.default.createContext(null);\n\nexports.RenderRegistryContext = RenderRegistryContext;\n\nfunction useRendererRegistry() {\n  return _react.default.useContext(RenderRegistryContext);\n}\n\nfunction useRendererConfig(tnode) {\n  return _react.default.useContext(RenderRegistryContext).getRendererConfigForTNode(tnode);\n}\n\nfunction useInternalTextRenderer(tnode) {\n  return _react.default.useContext(RenderRegistryContext).getInternalTextRenderer(tnode.tagName);\n}\n\nfunction RenderRegistryProvider(_ref) {\n  var children = _ref.children,\n      elementModels = _ref.elementModels,\n      renderers = _ref.renderers;\n  var profile = (0, _useProfiler.default)({\n    prop: 'renderers'\n  });\n  var registry = (0, _react.useMemo)(function () {\n    typeof __DEV__ === 'boolean' && __DEV__ && profile();\n    return new _RenderRegistry.default(renderers, elementModels);\n  }, [renderers, elementModels, profile]);\n  return _react.default.createElement(RenderRegistryContext.Provider, {\n    value: registry\n  }, children);\n}","map":{"version":3,"sources":["RenderRegistryProvider.tsx"],"names":["RenderRegistryContext","React","tnode","renderers","profile","prop","registry","RenderRegistry"],"mappings":";;;;;;;;;;;AACA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,YAAA,GAAA,sBAAA,CAAA,OAAA,wBAAA,CAAA;;AAEA,IAAA,eAAA,GAAA,sBAAA,CAAA,OAAA,4BAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGO,IAAMA,qBAAqB,GAAGC,MAAAA,CAAAA,OAAAA,CAAAA,aAAAA,CAA9B,IAA8BA,CAA9B;;;;AAIA,SAAA,mBAAA,GAA+B;EACpC,OAAOA,MAAAA,CAAAA,OAAAA,CAAAA,UAAAA,CAAP,qBAAOA,CAAP;AACD;;AAEM,SAAA,iBAAA,CAAA,KAAA,EAAsD;EAC3D,OAAOA,MAAAA,CAAAA,OAAAA,CAAAA,UAAAA,CAAAA,qBAAAA,EAAAA,yBAAAA,CAAP,KAAOA,CAAP;AAGD;;AAEM,SAAA,uBAAA,CAAA,KAAA,EAA+C;EACpD,OAAOA,MAAAA,CAAAA,OAAAA,CAAAA,UAAAA,CAAAA,qBAAAA,EAAAA,uBAAAA,CACLC,KAAK,CADP,OAAOD,CAAP;AAGD;;AAEc,SAAA,sBAAA,OAOX;EAAA,IAP2C,QAO3C,QAP2C,QAO3C;EAAA,IAP2C,aAO3C,QAP2C,aAO3C;EAAA,IAJFE,SAIE,QAJFA,SAIE;EACF,IAAMC,OAAO,GAAG,CAAA,GAAA,YAAA,CAAA,OAAA,EAAY;IAAEC,IAAI,EAAE;EAAR,CAAZ,CAAhB;EACA,IAAMC,QAAQ,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAAQ,YAAM;IAC7B,OAAA,OAAA,KAAA,SAAA,IAAA,OAAA,IAA2CF,OAA3C,EAAA;IACA,OAAO,IAAIG,eAAAA,CAAJ,OAAA,CAAA,SAAA,EAAP,aAAO,CAAP;EAFe,CAAA,EAGd,CAAA,SAAA,EAAA,aAAA,EAHH,OAGG,CAHc,CAAjB;EAIA,OACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,qBAAD,CAAA,QAAA,EAAA;IAAgC,KAAK,EAAED;EAAvC,CAAA,EADF,QACE,CADF;AAKD","sourcesContent":["import { TNode, TText } from '@native-html/transient-render-engine';\nimport React, { PropsWithChildren, useMemo } from 'react';\nimport useProfiler from '../hooks/useProfiler';\nimport { CustomTagRendererRecord } from '../render/render-types';\nimport RenderRegistry from '../render/RenderRegistry';\nimport { HTMLElementModelRecord } from '../shared-types';\n\nexport const RenderRegistryContext = React.createContext<RenderRegistry>(\n  null as any\n);\n\nexport function useRendererRegistry() {\n  return React.useContext(RenderRegistryContext);\n}\n\nexport function useRendererConfig<T extends TNode>(tnode: T) {\n  return React.useContext(RenderRegistryContext).getRendererConfigForTNode<T>(\n    tnode\n  );\n}\n\nexport function useInternalTextRenderer(tnode: TText) {\n  return React.useContext(RenderRegistryContext).getInternalTextRenderer(\n    tnode.tagName\n  );\n}\n\nexport default function RenderRegistryProvider({\n  children,\n  elementModels,\n  renderers\n}: PropsWithChildren<{\n  elementModels: HTMLElementModelRecord;\n  renderers?: CustomTagRendererRecord;\n}>) {\n  const profile = useProfiler({ prop: 'renderers' });\n  const registry = useMemo(() => {\n    typeof __DEV__ === 'boolean' && __DEV__ && profile();\n    return new RenderRegistry(renderers, elementModels);\n  }, [renderers, elementModels, profile]);\n  return (\n    <RenderRegistryContext.Provider value={registry}>\n      {children}\n    </RenderRegistryContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"script"}
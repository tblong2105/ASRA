{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar PRODUCTION_BASE_URL = \"14.225.254.106\";\nvar DEVELOPMENT_BASE_URL = \"localhost\";\nvar http = axios.create({\n  timeout: 600000,\n  baseURL: \"http://\" + PRODUCTION_BASE_URL + \":8080/api\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"X-Requested-With\": \"XMLHttpRequest\",\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\n  }\n});\nexport var get = function get(url, params) {\n  return new Promise(function (resolve, reject) {\n    http.get(url, params).then(function (obj) {\n      resolve(obj.data);\n    }).catch(function (err) {});\n  });\n};\nexport var post = function post(url, params) {\n  return new Promise(function (resolve, reject) {\n    http.post(url, params).then(function (obj) {\n      resolve(obj.data);\n    }).catch(function (err) {});\n  });\n};\nhttp.interceptors.request.use(function _callee(config) {\n  var token;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"ASRA\"));\n\n        case 2:\n          token = _context.sent;\n          config.headers = {\n            Authorization: \"Bearer \" + token\n          };\n          return _context.abrupt(\"return\", config);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}, function (error) {\n  Promise.reject(error);\n});\nhttp.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  var _error$response;\n\n  if ((error == null ? void 0 : (_error$response = error.response) == null ? void 0 : _error$response.status) === 500) {\n    alert(error.response.data.message.messageDetail || error.response.message || error.response.data.message);\n  } else {\n    alert(error.message);\n    s;\n  }\n\n  return Promise.reject(error);\n});","map":{"version":3,"names":["axios","AsyncStorage","PRODUCTION_BASE_URL","DEVELOPMENT_BASE_URL","http","create","timeout","baseURL","headers","get","url","params","Promise","resolve","reject","then","obj","data","catch","err","post","interceptors","request","use","config","getItem","token","Authorization","error","response","status","alert","message","messageDetail","s"],"sources":["/Users/macbook/Documents/00.ASRA/ASRA-Mobile-FrontEnd/src/utils/axios.js"],"sourcesContent":["import axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nconst PRODUCTION_BASE_URL = \"14.225.254.106\";\nconst DEVELOPMENT_BASE_URL = \"localhost\";\nconst http = axios.create({\n  timeout: 600000,\n  baseURL: `http://${PRODUCTION_BASE_URL}:8080/api`,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"X-Requested-With\": \"XMLHttpRequest\",\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n  },\n});\n\nexport const get = (url, params) => {\n  return new Promise((resolve, reject) => {\n    http\n      .get(url, params)\n      .then((obj) => {\n        resolve(obj.data);\n      })\n      .catch((err) => {\n        // reject(err);\n      });\n  });\n};\n\nexport const post = (url, params) => {\n  return new Promise((resolve, reject) => {\n    http\n      .post(url, params)\n      .then((obj) => {\n        resolve(obj.data);\n      })\n      .catch((err) => {\n        // reject(err);\n      });\n  });\n};\n\nhttp.interceptors.request.use(\n  async (config) => {\n    const token = await AsyncStorage.getItem(\"ASRA\");\n    // Check exit token\n    config.headers = {\n      Authorization: \"Bearer \" + token,\n    };\n    return config;\n  },\n  (error) => {\n    Promise.reject(error);\n  }\n);\n\nhttp.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error?.response?.status === 500) {\n      alert(\n        error.response.data.message.messageDetail ||\n          error.response.message ||\n          error.response.data.message\n      );\n    } else {\n      alert(error.message);\n      s;\n    }\n    return Promise.reject(error);\n  }\n);\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,IAAMC,mBAAmB,GAAG,gBAA5B;AACA,IAAMC,oBAAoB,GAAG,WAA7B;AACA,IAAMC,IAAI,GAAGJ,KAAK,CAACK,MAAN,CAAa;EACxBC,OAAO,EAAE,MADe;EAExBC,OAAO,cAAYL,mBAAZ,cAFiB;EAGxBM,OAAO,EAAE;IACP,gBAAgB,kBADT;IAEP,oBAAoB,gBAFb;IAGP,+BAA+B,GAHxB;IAIP,gCAAgC;EAJzB;AAHe,CAAb,CAAb;AAWA,OAAO,IAAMC,GAAG,GAAG,SAANA,GAAM,CAACC,GAAD,EAAMC,MAAN,EAAiB;EAClC,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;IACtCV,IAAI,CACDK,GADH,CACOC,GADP,EACYC,MADZ,EAEGI,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbH,OAAO,CAACG,GAAG,CAACC,IAAL,CAAP;IACD,CAJH,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS,CAEf,CAPH;EAQD,CATM,CAAP;AAUD,CAXM;AAaP,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACV,GAAD,EAAMC,MAAN,EAAiB;EACnC,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;IACtCV,IAAI,CACDgB,IADH,CACQV,GADR,EACaC,MADb,EAEGI,IAFH,CAEQ,UAACC,GAAD,EAAS;MACbH,OAAO,CAACG,GAAG,CAACC,IAAL,CAAP;IACD,CAJH,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS,CAEf,CAPH;EAQD,CATM,CAAP;AAUD,CAXM;AAaPf,IAAI,CAACiB,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CACE,iBAAOC,MAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACsBvB,YAAY,CAACwB,OAAb,CAAqB,MAArB,CADtB;;QAAA;UACQC,KADR;UAGEF,MAAM,CAAChB,OAAP,GAAiB;YACfmB,aAAa,EAAE,YAAYD;UADZ,CAAjB;UAHF,iCAMSF,MANT;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CADF,EASE,UAACI,KAAD,EAAW;EACThB,OAAO,CAACE,MAAR,CAAec,KAAf;AACD,CAXH;AAcAxB,IAAI,CAACiB,YAAL,CAAkBQ,QAAlB,CAA2BN,GAA3B,CACE,UAACM,QAAD,EAAc;EACZ,OAAOA,QAAP;AACD,CAHH,EAIE,UAACD,KAAD,EAAW;EAAA;;EACT,IAAI,CAAAA,KAAK,QAAL,+BAAAA,KAAK,CAAEC,QAAP,qCAAiBC,MAAjB,MAA4B,GAAhC,EAAqC;IACnCC,KAAK,CACHH,KAAK,CAACC,QAAN,CAAeZ,IAAf,CAAoBe,OAApB,CAA4BC,aAA5B,IACEL,KAAK,CAACC,QAAN,CAAeG,OADjB,IAEEJ,KAAK,CAACC,QAAN,CAAeZ,IAAf,CAAoBe,OAHnB,CAAL;EAKD,CAND,MAMO;IACLD,KAAK,CAACH,KAAK,CAACI,OAAP,CAAL;IACAE,CAAC;EACF;;EACD,OAAOtB,OAAO,CAACE,MAAR,CAAec,KAAf,CAAP;AACD,CAhBH"},"metadata":{},"sourceType":"module"}